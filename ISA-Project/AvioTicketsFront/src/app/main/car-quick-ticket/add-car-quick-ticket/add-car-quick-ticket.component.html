<div fxLayout="column" fxLayoutAlign="start center">
    <div class="header-container" fxLayout="row" fxLayoutAlign="center center ">
            <h2>{{'Add new car quick ticket'}}</h2>
    </div>
    <form class="form-container" [formGroup]="form" fxLayout="column" fxLayoutAlign="center center">

    <div fxLayout="row" class="full-width">
        <mat-form-field class="full-width">
            <mat-select placeholder="Car" formControlName="carId" required>
                <mat-option *ngFor="let car of cars" [value]="car.id">
                    {{car.name}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>

    <div fxLayout="row" class="full-width">
        <mat-form-field class="full-width"  >
            <input matInput type="number" placeholder="Discount" formControlName="discount" >
            <mat-error  *ngIf="form.controls.discount.errors?.required" >Discount is required</mat-error>
            <mat-error  *ngIf="form.controls.discount.errors?.min || form.controls.discount.errors?.max" >Discount must be 0-100</mat-error>
        </mat-form-field>
    </div>

    <div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="30px">
        <mat-form-field>
            <input matInput placeholder="Date take" formControlName="dateTake"
            [owlDateTimeTrigger]="dtRangeTake" [owlDateTime]="dtRangeTake" required>
            <owl-date-time #dtRangeTake></owl-date-time>
        </mat-form-field>
        <mat-form-field>
            <input matInput placeholder="Date return" formControlName="dateReturn"
            [owlDateTimeTrigger]="dtRangeReturn" [owlDateTime]="dtRangeReturn" required>
            <owl-date-time #dtRangeReturn></owl-date-time>
        </mat-form-field>
    </div>

    <div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="30px">
        <mat-form-field >
            <mat-select placeholder="Place take" formControlName="placeTake" required>
                <mat-option *ngFor="let branch of branches" [value]="branch.id">
                {{branch.address}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field >
            <mat-select placeholder="Place return" formControlName="placeReturn" required>
                <mat-option *ngFor="let branch of branches" [value]="branch.id">
                {{branch.address}}
                </mat-option>
            </mat-select>
        </mat-form-field>
    </div>

    
    <br>
    <div fxLayout="row" fxLayout="start">
        <button  mat-raised-button color="primary" (click)="saveTicket()" [disabled]="form.invalid">Save Quick Ticket</button>
    </div>
    </form>
</div>
